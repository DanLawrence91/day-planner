const date = moment().format("dddd, MMMM Do");

// when user lands on page
// user sees current date in header and business hours for that day in rows of one hour each - 9am - 5pm
// date is that day and changes each day
$('#currentDay').text(date);

// timeblocks - 3 columns and 9 rows
// each row an hour of the day
// col 1 = time e.g 9am
// col 2 = editable area (main width of row)
// col 3 = save button

// events can be added to each row

// when click on row can edit content inside with text to add event

// each row has a save button which will save content inside to local storage when clicked

// data will be displayed next time page is shown 

// each hour is color coded depending on whether in past, present or future. color will change automatically depending on current time
// as time moves throughout day change background color of textarea depending on that time

var colorTime = function colorChange (){

    // current time
    const time = moment().format("HH");

    // get all classes of textarea
    var workEventEl = $(".textarea");

    // check time working properly and right div is selected
    console.log(time);
    console.log(workEventEl);
    
    // loop through textarea classes
    for (var i = 0; i < workEventEl.length; i++){

        // get a string of workEventEl id numbers
        var workEventTime = workEventEl[i].id;
        console.log(workEventTime)

        // get the element by the ID associated in HTML
        var timeChangeColor = document.getElementById(workEventTime)

        //remove previous class associated with time
        $(workEventTime).removeClass(".past .present .future");

        // add new class depending on whether id of textarea element is more, equal or less than current time generated by moment in const time
        if (workEventTime < time){
            $(timeChangeColor).addClass("past");
        } else if (workEventTime > time){
            $(timeChangeColor).addClass("future");
        } else (
            $(timeChangeColor).addClass("present")
        )
    }
}

//checks every 5 minutes for time to see if color should change
setInterval(colorTime(), 1000 * 60 * 5)